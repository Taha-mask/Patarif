<app-game-template
  [level]="currentLevel"
  [currentQuestion]="currentQuestion"
  [questionsCorrectInLevel]="questionsCorrectInLevel"
  [timeElapsed]="timeElapsed"
  [currentWord]="currentWord.correct || ''"
  [difficulty]="currentDifficulty"
  [totalQuestions]="5"
>  
  <div class="game-layout">
    
    <!-- ===== QUESTION SECTION ===== -->
    <div class="question-section">
      <div class="question-card">
        <h2 class="question-text">
          {{ currentQuestionData.text }}
        </h2>
      </div>
    </div>

    <!-- ===== ANSWER SECTION ===== -->
    <div class="answer-section">
      <div class="answer-grid">
        <div *ngFor="let option of currentQuestionData.options; let i = index" 
             class="option-btn"
             [ngClass]="{
               'selected': selectedAnswer === option.text && !answered,
               'btn-success': answered && answerStatus[i] === 'correct',
               'btn-danger': answered && answerStatus[i] === 'wrong',
               'correct-answer': answered && answerStatus[i] === 'correct'
             }"
             (click)="!answered && checkAnswer(option.isCorrect, i)">
          
          <div class="answer-content">
            <!-- Option Badge (A, B, C, D) -->
            <div class="option-badge">
              {{ getOptionLetter(i) }}
            </div>
            
            <!-- Option Text -->
            <div class="option-text">
              {{ option.text }}
            </div>
            
            <!-- Result Icon -->
            <div class="result-icon" *ngIf="answered">
              <i *ngIf="answerStatus[i] === 'correct'" class="fas fa-check"></i>
              <i *ngIf="answerStatus[i] === 'wrong'" class="fas fa-times"></i>
            </div>
          </div>
        </div>
      </div>
    </div>
    
    <!-- ===== ACTION SECTION ===== -->
    <div class="action-section">
      <div class="action-card">
        <button class="game-btn" 
                [disabled]="!answered" 
                (click)="nextQuestion()"
                [ngClass]="{'ready': answered}">
          
          <span class="button-text">
            {{ isLastQuestion ? 'Terminer le niveau' : 'Question suivante' }}
          </span>
          
          <div class="button-icon">
            <i *ngIf="!isLastQuestion" class="fas fa-arrow-right"></i>
            <i *ngIf="isLastQuestion" class="fas fa-trophy"></i>
          </div>
        </button>
      </div>
    </div>

  </div>
</app-game-template>

<!-- Celebration Modal -->
<app-celebration
  *ngIf="showCelebration"
  [show]="showCelebration"
  [data]="celebrationData"
  (close)="showCelebration = false"
  (goToNext)="onNextLevel($event)">
</app-celebration>